<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>发送验证码</title>
</head>
<body>
  <input type="text" placeholder="请输入验证码"> <button id="btn">点击发送验证码</button>
  <script type="text/javascript">
    window.onload = function () {
      /*
        onload: 等所有资源全部加载完成，在调用其回调函数
        onready: 等部分资源（除图片/音视频）全部加载完成，在调用其回调函数
       */
      var btn = document.getElementById('btn');
      //代表首次发送请求的时间
      var startTime = 0;
      //定义请求的间隔时间
      var TIME = 5;
      /*
        1. 定时器完成的，问题：不能保证精确的时间。
        2. 用时间Date.now解决上述问题。
       */
      btn.onclick = function () {
        if (Date.now() <= (startTime + TIME * 1000)) {
          //说明当前还在60秒内，不能发送请求
          return ;
        }
        //同步首次发送请求的时间
        startTime = Date.now();

        //发送ajax请求
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
          if (xhr.readyState === 4 && xhr.status === 200) {
            console.log(xhr.responseText);
          }
        }
        xhr.open('GET', '/ajax');
        xhr.send();
      }

    }
  </script>
</body>
</html>