<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
  <script type="text/javascript">
    const obj1 = [
      {id: 1, parent: null},
      {id: 2, parent: 1},
      {id: 3, parent: 2}
    ]
    /*
        1.  obj1.obj = {id: 1, parent: null}
        2. obj1.obj.child = {id: 2, parent: 1}
        3. obj1.obj.child.child = {id: 3, parent: 2}
     */
    var obj2 = {};
    var obj3 = obj2;
    for (let i = 0; i < obj1.length; i++) {
      var item = obj1[i];
      var prop = item.parent === null ? 'obj' : 'child';
      obj3[prop] = {
        id: item.id,
        parent: item.parent
      };
      obj3 = obj3[prop];
      for (let j = 0; j < i - 1; j++) {
        obj3 = obj3.child;
      }
    }
    console.log(obj2);

  </script>

</body>
</html>